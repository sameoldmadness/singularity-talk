# singularity-talk

## Getting Started

```
npx lerna bootstrap
npx lerna run start
```

## Architecture

```
+------------------------------------------------------------+
|                                                     SERVER |
|                          prisma-                           |
|                          binding                           |
|  +--------+    +--------+    +---------------------+       |
|  |        |    |        |    |                     |       |
|  |        |    |        |    |                     |       |
|  | SQlite +<---+ Prisma +<---+  Apollo Server      |       |
|  |        |    |        |    |                     |       |
|  |        |    |        |    |                     |       |
|  +--------+    +--------+    +--------+------------+       |
|                                       ^                    |
+------------------------------------------------------------+
                                        |
                                        |
                                        | Apollo Client
                                        |
+------------------------------------------------------------+
|                                       |             CLIENT |
|                                       |                    |
|                                       |                    |
|                         +-------------+------------+       |
|                         |                          |       |
|                         |                          |       |
|                         |      Web Application     |       |
|                         |                          |       |
|                         |                          |       |
|                         +--------------------------+       |
|                                                            |
+------------------------------------------------------------+
```

Server provides a GraphQL API for clients. Data is stored in an SQLite database.

Client (Web Application) requests data from server via Apollo client.

Types for ApolloClient queries and ApolloServer resolvers are generated by graphql-codegen.

Pros:

- type safety on server side

Cons:

- GraphQL schema and GraphQL queries must be manually kept in sync
- standalone proxy service
- exposed DB schema
- complex setup
