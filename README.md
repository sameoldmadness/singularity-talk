# singularity-talk

## Getting Started

```
npx lerna bootstrap
npx lerna run setup-database
```

The previous command will run in `watch` mode, which means it will wait until you terminate it.

So the next command need to be run in a new terminal window.

```
npx lerna run start
```

## Architecture

```
+------------------------------------------------------------+
|                                                     SERVER |
|                                                            |
|                                                            |
|       +--------+        +--------------------------+       |
|       |        |        |                          |       |
|       |        | Photon |                          |       |
|       | SQlite +--------+       Apollo Server      |       |
|       |        |        |                          |       |
|       |        |        |                          |       |
|       +--------+        +-------------+------------+       |
|                                       ^                    |
+------------------------------------------------------------+
                                        |
                                        |
                                        | Apollo Client
                                        |
+------------------------------------------------------------+
|                                       |             CLIENT |
|                                       |                    |
|                                       |                    |
|                         +-------------+------------+       |
|                         |                          |       |
|                         |                          |       |
|                         |      Web Application     |       |
|                         |                          |       |
|                         |                          |       |
|                         +--------------------------+       |
|                                                            |
+------------------------------------------------------------+
```

Server provides a GraphQL API for clients. Data is stored in an SQLite database.

Client (Web Application) requests data from server via Apollo client.

Types for ApolloClient queries are generated by graphql-codegen.

Pros:

- type safety on server side

Cons:

- GraphQL schema and GraphQL queries must be manually kept in sync
- not production-ready
